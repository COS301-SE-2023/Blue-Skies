@using BlazorApp.Models
@using BlazorApp.Components.Base
@using System;
@using System.Diagnostics;

<div class="hover:cursor-pointer">
    @{
        switch(style) {
            case "rounded": 
                
                <div class="group @(item.active ? "bg-primary-100 rounded-[20px]" : "rounded-[40px] border-primary-500") px-5 py-4 w-full transition-all duration-300  @(item.active ? "h-fit sm:h-60 md:h-60 lg:h-80 xl:h-52" : "h-20") border-1 flex flex-col gap-4">
                    <div class="flex justify-between group-hover:-translate-y-1 transition-all duration-300">
                        <p class="font-bold text-base tracking-wide @(item.active ? "text-primary-900" : "text-primary-700")">@item.title</p>

                        @if(item.active) {
                            <Image ImageName="Open-Question.svg" />
                        } 
                        else {
                            <Image ImageName="Closed-Question.svg" />
                        }
                    </div>
                    @if (item.active) {
                        <p class="@(item.active ? "" : "-translate-y-20") slide-in-active transition-all duration-300 text-primary-800">@item.content</p>
                    }
                </div>
                @if (item.active) {
                    <p class="@(item.active ? "" : "-translate-y-20") slide-in-active transition-all duration-300 text-primary-800">@item.content</p>
                }
            </div>
        break;
        default:
            <div class="p-4 w-full transition-all duration-300 @(item.active ? "h-fit sm:h-52 md:h-48" : "h-fit sm:h-24 md:h-20") rounded-xl border-1 border-primary-500 flex flex-col gap-4">
                <div class="flex justify-between">
                    <p class="font-bold text-base tracking-wide text-primary-500">@item.title</p>

                        <svg width="@(item.active ? "30" : "16")" height="@(item.active ? "17" : "30")" viewBox="0 0 @(item.active ? "30 17" : "16 30")" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="@(item.active ? "M1.88733 1.94385L15 15.4438L28.1127 1.94385" : "M1.25 28.125L14.75 15L1.25 1.875")" stroke="#3871C1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    @if (item.active) {
                        <p class="@(item.active ? "" : "-translate-y-20") slide-in-active transition-all duration-300">@item.content</p>
                    }
                </div>
            break;
        }
    }
</div>

@code {
    [Parameter]
    public string style { get; set; } = "";
    [Parameter] 
    public AccordionItemModel item { get; set; } = new AccordionItemModel("","",false)!;

}