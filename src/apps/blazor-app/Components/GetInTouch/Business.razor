@using BlazorApp.Components.Base
@using BlazorApp.Components.Dashboard
@using BlazorApp.Models
@using System.Text.Json;
@inject ProtectedSessionStorage ProtectedSessionStore
@inject NavigationManager NavigationManager

<div
    class="md:flex self-center items-center gap-4 justify-center mt-4 md:mt-20 @(((id + 1) % 2) == 0 ? "flex-row-reverse" : "flex-row ")">
    @if (key == null)
    {
           <div
            class="md:flex-shrink-0 flex flex-col justify-center shadow-md rounded-3xl xl:w-[25%] lg:w-[30%] md:w-[45%] w-[90%] max-md:mx-auto">
            <a href="@key!.website" target="_blank"
                class="text-black shadow-md transition-all duration-500 cursor-pointer bg-gray-200 lg:hover:scale-110 rounded-3xl justify-center items-center w-full md:h-80 h-full">
                <div class="my-auto w-full flex p-2">
                    <div class="bg-gray-100 shadow-md rounded-3xl p-3 w-16 m-3 animate-pulse">
                        <svg class="w-8 h-8 text-gray-200 aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18">
                            <path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"/>
                        </svg>
                    </div>
                    <div class="m-3">
                        <div role="status" class="max-w-sm animate-pulse">
                            <div class="h-6 bg-gray-200 rounded-full w-40 mt-4"></div>
                            <span class="sr-only">Loading...</span>
                        </div>
                    </div>
                </div>
                <div class="flex gap-1 mt-3 m-4">
                        <div role="status" class="max-w-sm animate-pulse">
                            <div class="h-2 bg-gray-200 rounded-full max-w-[330px] w-[300px] mb-2.5"></div>
                                <div class="h-2 bg-gray-200 rounded-full max-w-[330px] w-[330px] mb-2.5"></div>
                            <div class="h-2 bg-gray-200 rounded-full max-w-[330px] w-[310px] mb-2.5"></div>
                            <div class="h-2 bg-gray-200 rounded-full max-w-[330px] w-80 mb-2.5"></div>
                                <div class="h-2 bg-gray-200 rounded-full max-w-[330px] w-40 mb-2.5"></div>
                            <span class="sr-only">Loading...</span>
                        </div>
                </div>
            </a>
        </div>
        <div class="my-auto max-md:mx-auto xl:w-[25%] lg:w-[30%] md:w-[45%] w-[90%]">
            <div role="status" class="space-y-8 animate-pulse md:space-y-0 md:space-x-8 md:flex md:items-center">
                <svg class="w-10 h-10 text-gray-200 aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18">
                    <path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"/>
                </svg>
                <div class="w-full">
                    <div class="h-4 bg-gray-200 rounded-full w-24 mb-3 mt-3"></div>
                    <div class="h-2 bg-gray-200 rounded-full w-48 mb-2"></div>
                    <div class="h-2 bg-gray-200 rounded-full w-32 mb-2"></div>
                </div>
                <span class="sr-only">Loading...</span>
            </div>
            <div role="status" class="space-y-8 animate-pulse md:space-y-0 md:space-x-8 md:flex md:items-center">
                <svg class="w-10 h-10 text-gray-200 aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18">
                    <path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"/>
                </svg>
                <div class="w-full">
                    <div class="h-4 bg-gray-200 rounded-full w-16 mb-3 mt-3"></div>
                    <div class="h-2 bg-gray-200 rounded-full w-40 mb-2"></div>
                </div>
                <span class="sr-only">Loading...</span>
            </div>
            <div role="status" class="space-y-8 animate-pulse md:space-y-0 md:space-x-8 md:flex md:items-center">
                <svg class="w-10 h-10 text-gray-200 aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18">
                    <path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"/>
                </svg>
                <div class="w-full">
                    <div class="h-4 bg-gray-200 rounded-full w-36 mb-3 mt-3"></div>
                    <div class="h-2 bg-gray-200 rounded-full w-28 mb-2"></div>
                </div>
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        <div class="my-auto xl:w-[25%] lg:w-[30%] w-[90%] max-h-96 max-lg:hidden ">
            <div class="flex items-center justify-center w-80 h-80 bg-gray-300 rounded animate-pulse">
                <svg class="w-10 h-10 text-gray-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18">
                    <path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"/>
                </svg>
            </div>
        </div>
    }
    else
    {
        @* Map Container *@
        <div
            class="md:flex-shrink-0 flex flex-col justify-center shadow-md rounded-3xl xl:w-[25%] lg:w-[30%] md:w-[45%] w-[90%] max-md:mx-auto">
            <a href="@key!.website" target="_blank"
                class="text-black shadow-md transition-all duration-500 cursor-pointer bg-gray-200 lg:hover:scale-110 rounded-3xl justify-center items-center w-full md:h-80 h-full">
                <div class="my-auto w-full flex p-2">
                    <div class="bg-gray-100 shadow-md rounded-3xl p-3 w-16 m-3">
                        @{
                            var logo = key!.owner + ".png";
                        }
                        <Image ImageName="@logo" alt="Sale" css="scale-150" />
                    </div>
                    <div class="m-3">
                        <h1 class="text-xl text-primary-800 font-semibold mt-3 gap-4">@key!.owner</h1>
                    </div>
                </div>
                <div class="flex gap-1 mt-3 m-4">
                    <p class="text-l">@key!.description</p>
                </div>
            </a>
        </div>
        <div class="my-auto max-md:mx-auto xl:w-[25%] lg:w-[30%] md:w-[45%] w-[90%]">
            <div class="mt-3">
                <LocationItem Title="Address" ImageName="Point On Map.svg" Text=@key!.location />
            </div>
            <div class="mt-3">
                <a href="https://mail.google.com/" target="_blank">
                    <LocationItem Title="Email" ImageName="Mailbox.svg" Text=@key!.email />
                </a>
            </div>
            <div class="mt-3">
                <LocationItem Title="Phone Number" ImageName="Phone.svg" Text=@key!.phoneNumber />
            </div>
        </div>
        <div class="my-auto xl:w-[25%] lg:w-[30%] w-[90%] max-h-96 max-lg:hidden ">
            @{
                switch (id % 4)
                {
                    case 0:
                                    <Image ImageName="Robert_Pointing_Left.png" css="2xl:max-h-96 xl:max-h-80 lg:max-h-72 mx-auto" alt="Rob" />
                        break;
                    case 1:
                                    <Image ImageName="Robert_Pointing_Right.png" css="2xl:max-h-96 xl:max-h-80 lg:max-h-72 mx-auto" alt="Rob" />
                        break;
                    case 2:
                                    <Image ImageName="Robert_Holding_Panel_Hand_Out.png" css="2xl:max-h-96 xl:max-h-80 lg:max-h-72 mx-auto" alt="Rob" />
                        break;
                    case 3:
                                    <Image ImageName="Robert_Leaning_Panel.png" css="2xl:max-h-96 xl:max-h-80 lg:max-h-72 mx-auto" alt="Rob" />
                        break;
                }
            }
        </div>
    }
</div>


@code {
    [Parameter]
    public KeyModel? key { get; set; }
    [Parameter]
    public int id { get; set; }
}